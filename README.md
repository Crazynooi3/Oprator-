> [!WARNING] 
> توجه داشته باشین که این اپراتور هنوز به مرحله نهایی نرسیده و درحال توسعه می باشد، همچنین ممکنه تغییراتی داشته باشه.



## معرفی اپراتور Safe Assignment Operator ( `=?` ) برای جاوااسکریپت 

در این مقاله قصد داریم پرپزال فعلی اپراتور `=?` یا همان Safe Assignment رو بررسی و نگاهی بندازیم. هرچند این اپراتور فعلا در حال توسعه قرار داره اما بد نیست به منطق های اون نگاهی بندازیم و آشنا بشیم.
در ادامه با ارائه نمونه و مقابسه سعی میکنم دیدگاه درستی از پروپزال فعلی این اپراتور به شما ارائه بدم. این اپراتور برای هندل کردن خطا های احتمالی در توابع مورد استفاده قرار میگیرد کاری که تا به امروز با کمک `try/catch` انجام داده می شد.

کانسپت کلی استفاده از این اپراتور در تصویر زیر قرار گرفته :

![Safe Assignment Operator](https://github.com/user-attachments/assets/1b426bd9-57d3-4e41-9a2a-cc2889c5df39)

اگر یک تابع خطایی رو پاس بده خروجی ما به صورت `[error, null]` و اگر تابع به درستی کار کنه خروجی ما به صورت `[null, result]` خواهد بود. به صورت کلی این اپراتور با Promise ها، async functions و هر مقداری که به صورت `Symbol.result` باشه قابل استفاده است.



## دلیل توسعه این اپراتور
---
- **ساده سازی فرایند هندلینگ خطا ها** : ساده سازی کنترل خطا ها با حذف ساختار `try/catch` در بخش هایی که نیاز به آن داریم.
- **خوانش راحت تر کدها** : بهتر کردن خوانش کد ها و حذف هندلر های پشت هم یا تودرتو که منجر به ارائه کد تمیز تری خواهد شد.
- **رویکرد یکسان با انواع API ها** : رویکردی یکسان با تمام API ها برای رسیدگی به خطا ها و اطمینان از رفتار قابل پیشبینی.
- **تقویت امنیت** : کاهش احتمال نادیده گرفتن خطا ها که در نتیجه باعث بهبود امنیت خواهد شد.


به کد زیر نگاهی بندازید :

![Before01](https://github.com/user-attachments/assets/d747a0aa-f0d6-4afa-8d7e-c4ed8374b07b)

کد بالا که طبیعتا شما بار ها اون رو دیده‌اید نکاتی دارد. مشکل کد بالا این هست که میتونه خیلی بی سر و صدا از کار بیفته و و برنامه شما رو خراب کنه چرا که :
1. بخش Fetch کردن ممکنه `Reject` بشه.
2. بخش JSON ممکنه `Reject` بشه.
3. بخش parse کردن هم ممکنه `throw` بشه.
4. هر کدوم از این بخش ها میتونن خطا های خاص خودشون رو داشته باشن و برنامه رو از کار بندازن.


در بهترین حالت میتونیم با راهکار زیر کد های مشابه بالا رو مدیریت کنیم :

![Before02](https://github.com/user-attachments/assets/d32a649c-ce5b-4d0c-9b90-4514ff6c57f7)


برای رسیدی به این موضوع نگاهی به اپراتور `=?` بندازیم که منجر به مدیریت راحت تر خطاها و همچنین خوانایی بهتر کد میشه :

![aftter01](https://github.com/user-attachments/assets/70a847a9-acf0-4b84-93e2-28b11a7d15a1)


## نمونه های بیشتر
---

استفاده از try و catch برای هندل کردن خطا ها و فریاد زدن خطا :

![Before04](https://github.com/user-attachments/assets/4579cf39-d94f-437f-99c3-32af156462b7)

تمام این کار ها با یک خط کد راحت انجام میشه :

![aftter02](https://github.com/user-attachments/assets/f4715c53-8f98-484f-8764-203e7380035c)





## کمک برای تکمیل نمونه ها و میژگی ها بیشتر

سعی میکنیم ادامه تعریف و نکات مربوط به این اپراتور را بروزرسانی و کامل کنم. اما شما هم میتونین به کمک من بیاین و در تکمیل این مقاله کمک کنید.

## منبع

- [arthurfiorette](https://github.com/arthurfiorette/proposal-safe-assignment-operator)

